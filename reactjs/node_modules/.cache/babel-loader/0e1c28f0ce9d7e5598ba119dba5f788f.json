{"ast":null,"code":"import { assignNativeAudioNodeOption } from '../helpers/assign-native-audio-node-option';\nimport { assignNativeAudioNodeOptions } from '../helpers/assign-native-audio-node-options';\nexport const createNativeConvolverNodeFactory = (createNotSupportedError, overwriteAccessors) => {\n  return (nativeContext, options) => {\n    const nativeConvolverNode = nativeContext.createConvolver();\n    assignNativeAudioNodeOptions(nativeConvolverNode, options); // The normalize property needs to be set before setting the buffer.\n\n    if (options.disableNormalization === nativeConvolverNode.normalize) {\n      nativeConvolverNode.normalize = !options.disableNormalization;\n    }\n\n    assignNativeAudioNodeOption(nativeConvolverNode, options, 'buffer'); // Bug #113: Safari does allow to set the channelCount to a value larger than 2.\n\n    if (options.channelCount > 2) {\n      throw createNotSupportedError();\n    }\n\n    overwriteAccessors(nativeConvolverNode, 'channelCount', get => () => get.call(nativeConvolverNode), set => value => {\n      if (value > 2) {\n        throw createNotSupportedError();\n      }\n\n      return set.call(nativeConvolverNode, value);\n    }); // Bug #114: Safari allows to set the channelCountMode to 'max'.\n\n    if (options.channelCountMode === 'max') {\n      throw createNotSupportedError();\n    }\n\n    overwriteAccessors(nativeConvolverNode, 'channelCountMode', get => () => get.call(nativeConvolverNode), set => value => {\n      if (value === 'max') {\n        throw createNotSupportedError();\n      }\n\n      return set.call(nativeConvolverNode, value);\n    });\n    return nativeConvolverNode;\n  };\n};","map":{"version":3,"mappings":"AAAA,SAASA,2BAAT,QAA4C,4CAA5C;AACA,SAASC,4BAAT,QAA6C,6CAA7C;AAGA,OAAO,MAAMC,gCAAgC,GAAuC,CAACC,uBAAD,EAA0BC,kBAA1B,KAAgD;EAChI,OAAO,CAACC,aAAD,EAAgBC,OAAhB,KAA2B;IAC9B,MAAMC,mBAAmB,GAAGF,aAAa,CAACG,eAAd,EAA5B;IAEAP,4BAA4B,CAACM,mBAAD,EAAsBD,OAAtB,CAA5B,CAH8B,CAK9B;;IACA,IAAIA,OAAO,CAACG,oBAAR,KAAiCF,mBAAmB,CAACG,SAAzD,EAAoE;MAChEH,mBAAmB,CAACG,SAApB,GAAgC,CAACJ,OAAO,CAACG,oBAAzC;IACH;;IAEDT,2BAA2B,CAACO,mBAAD,EAAsBD,OAAtB,EAA+B,QAA/B,CAA3B,CAV8B,CAY9B;;IACA,IAAIA,OAAO,CAACK,YAAR,GAAuB,CAA3B,EAA8B;MAC1B,MAAMR,uBAAuB,EAA7B;IACH;;IAEDC,kBAAkB,CACdG,mBADc,EAEd,cAFc,EAGbK,GAAD,IAAS,MAAMA,GAAG,CAACC,IAAJ,CAASN,mBAAT,CAHD,EAIbO,GAAD,IAAUC,KAAD,IAAU;MACf,IAAIA,KAAK,GAAG,CAAZ,EAAe;QACX,MAAMZ,uBAAuB,EAA7B;MACH;;MAED,OAAOW,GAAG,CAACD,IAAJ,CAASN,mBAAT,EAA8BQ,KAA9B,CAAP;IACH,CAVa,CAAlB,CAjB8B,CA8B9B;;IACA,IAAIT,OAAO,CAACU,gBAAR,KAA6B,KAAjC,EAAwC;MACpC,MAAMb,uBAAuB,EAA7B;IACH;;IAEDC,kBAAkB,CACdG,mBADc,EAEd,kBAFc,EAGbK,GAAD,IAAS,MAAMA,GAAG,CAACC,IAAJ,CAASN,mBAAT,CAHD,EAIbO,GAAD,IAAUC,KAAD,IAAU;MACf,IAAIA,KAAK,KAAK,KAAd,EAAqB;QACjB,MAAMZ,uBAAuB,EAA7B;MACH;;MAED,OAAOW,GAAG,CAACD,IAAJ,CAASN,mBAAT,EAA8BQ,KAA9B,CAAP;IACH,CAVa,CAAlB;IAaA,OAAOR,mBAAP;EACH,CAjDD;AAkDH,CAnDM","names":["assignNativeAudioNodeOption","assignNativeAudioNodeOptions","createNativeConvolverNodeFactory","createNotSupportedError","overwriteAccessors","nativeContext","options","nativeConvolverNode","createConvolver","disableNormalization","normalize","channelCount","get","call","set","value","channelCountMode"],"sources":["D:\\programer\\xampp\\htdocs\\E-Learning\\reactjs\\node_modules\\standardized-audio-context\\src\\factories\\native-convolver-node-factory.ts"],"sourcesContent":["import { assignNativeAudioNodeOption } from '../helpers/assign-native-audio-node-option';\nimport { assignNativeAudioNodeOptions } from '../helpers/assign-native-audio-node-options';\nimport { TNativeConvolverNodeFactoryFactory } from '../types';\n\nexport const createNativeConvolverNodeFactory: TNativeConvolverNodeFactoryFactory = (createNotSupportedError, overwriteAccessors) => {\n    return (nativeContext, options) => {\n        const nativeConvolverNode = nativeContext.createConvolver();\n\n        assignNativeAudioNodeOptions(nativeConvolverNode, options);\n\n        // The normalize property needs to be set before setting the buffer.\n        if (options.disableNormalization === nativeConvolverNode.normalize) {\n            nativeConvolverNode.normalize = !options.disableNormalization;\n        }\n\n        assignNativeAudioNodeOption(nativeConvolverNode, options, 'buffer');\n\n        // Bug #113: Safari does allow to set the channelCount to a value larger than 2.\n        if (options.channelCount > 2) {\n            throw createNotSupportedError();\n        }\n\n        overwriteAccessors(\n            nativeConvolverNode,\n            'channelCount',\n            (get) => () => get.call(nativeConvolverNode),\n            (set) => (value) => {\n                if (value > 2) {\n                    throw createNotSupportedError();\n                }\n\n                return set.call(nativeConvolverNode, value);\n            }\n        );\n\n        // Bug #114: Safari allows to set the channelCountMode to 'max'.\n        if (options.channelCountMode === 'max') {\n            throw createNotSupportedError();\n        }\n\n        overwriteAccessors(\n            nativeConvolverNode,\n            'channelCountMode',\n            (get) => () => get.call(nativeConvolverNode),\n            (set) => (value) => {\n                if (value === 'max') {\n                    throw createNotSupportedError();\n                }\n\n                return set.call(nativeConvolverNode, value);\n            }\n        );\n\n        return nativeConvolverNode;\n    };\n};\n"]},"metadata":{},"sourceType":"module"}