{"ast":null,"code":"import { isAudioNode } from '../guards/audio-node';\nimport { isDelayNode } from '../guards/delay-node';\nexport const createDetectCycles = (audioParamAudioNodeStore, getAudioNodeConnections, getValueForKey) => {\n  return function detectCycles(chain, nextLink) {\n    const audioNode = isAudioNode(nextLink) ? nextLink : getValueForKey(audioParamAudioNodeStore, nextLink);\n\n    if (isDelayNode(audioNode)) {\n      return [];\n    }\n\n    if (chain[0] === audioNode) {\n      return [chain];\n    }\n\n    if (chain.includes(audioNode)) {\n      return [];\n    }\n\n    const {\n      outputs\n    } = getAudioNodeConnections(audioNode);\n    return Array.from(outputs).map(outputConnection => detectCycles([...chain, audioNode], outputConnection[0])).reduce((mergedCycles, nestedCycles) => mergedCycles.concat(nestedCycles), []);\n  };\n};","map":{"version":3,"mappings":"AAAA,SAASA,WAAT,QAA4B,sBAA5B;AACA,SAASC,WAAT,QAA4B,sBAA5B;AAIA,OAAO,MAAMC,kBAAkB,GAAyB,CAACC,wBAAD,EAA2BC,uBAA3B,EAAoDC,cAApD,KAAsE;EAC1H,OAAO,SAASC,YAAT,CAA0CC,KAA1C,EAAkEC,QAAlE,EAAuG;IAC1G,MAAMC,SAAS,GAAGT,WAAW,CAACQ,QAAD,CAAX,GAAwBA,QAAxB,GAAkDH,cAAc,CAACF,wBAAD,EAA2BK,QAA3B,CAAlF;;IAEA,IAAIP,WAAW,CAACQ,SAAD,CAAf,EAA4B;MACxB,OAAO,EAAP;IACH;;IAED,IAAIF,KAAK,CAAC,CAAD,CAAL,KAAaE,SAAjB,EAA4B;MACxB,OAAO,CAACF,KAAD,CAAP;IACH;;IAED,IAAIA,KAAK,CAACG,QAAN,CAAeD,SAAf,CAAJ,EAA+B;MAC3B,OAAO,EAAP;IACH;;IAED,MAAM;MAAEE;IAAF,IAAcP,uBAAuB,CAACK,SAAD,CAA3C;IAEA,OAAOG,KAAK,CAACC,IAAN,CAAWF,OAAX,EACFG,GADE,CACGC,gBAAD,IAAsBT,YAAY,CAAC,CAAC,GAAGC,KAAJ,EAAWE,SAAX,CAAD,EAAwBM,gBAAgB,CAAC,CAAD,CAAxC,CADpC,EAEFC,MAFE,CAEK,CAACC,YAAD,EAAeC,YAAf,KAAgCD,YAAY,CAACE,MAAb,CAAoBD,YAApB,CAFrC,EAEwE,EAFxE,CAAP;EAGH,CApBD;AAqBH,CAtBM","names":["isAudioNode","isDelayNode","createDetectCycles","audioParamAudioNodeStore","getAudioNodeConnections","getValueForKey","detectCycles","chain","nextLink","audioNode","includes","outputs","Array","from","map","outputConnection","reduce","mergedCycles","nestedCycles","concat"],"sources":["D:\\programer\\xampp\\htdocs\\E-Learning\\reactjs\\node_modules\\standardized-audio-context\\src\\factories\\detect-cycles.ts"],"sourcesContent":["import { isAudioNode } from '../guards/audio-node';\nimport { isDelayNode } from '../guards/delay-node';\nimport { IAudioNode, IAudioParam } from '../interfaces';\nimport { TContext, TDetectCyclesFactory } from '../types';\n\nexport const createDetectCycles: TDetectCyclesFactory = (audioParamAudioNodeStore, getAudioNodeConnections, getValueForKey) => {\n    return function detectCycles<T extends TContext>(chain: IAudioNode<T>[], nextLink: IAudioNode<T> | IAudioParam): IAudioNode<T>[][] {\n        const audioNode = isAudioNode(nextLink) ? nextLink : <IAudioNode<T>>getValueForKey(audioParamAudioNodeStore, nextLink);\n\n        if (isDelayNode(audioNode)) {\n            return [];\n        }\n\n        if (chain[0] === audioNode) {\n            return [chain];\n        }\n\n        if (chain.includes(audioNode)) {\n            return [];\n        }\n\n        const { outputs } = getAudioNodeConnections(audioNode);\n\n        return Array.from(outputs)\n            .map((outputConnection) => detectCycles([...chain, audioNode], outputConnection[0]))\n            .reduce((mergedCycles, nestedCycles) => mergedCycles.concat(nestedCycles), []);\n    };\n};\n"]},"metadata":{},"sourceType":"module"}