{"ast":null,"code":"export const createPostMessageFactory = generateUniqueNumber => {\n  return (ongoingRequests, port) => {\n    return function (message) {\n      let transferables = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n      return new Promise((resolve, reject) => {\n        const id = generateUniqueNumber(ongoingRequests);\n        ongoingRequests.set(id, {\n          reject,\n          resolve\n        });\n        port.postMessage({\n          id,\n          ...message\n        }, transferables);\n      });\n    };\n  };\n};","map":{"version":3,"mappings":"AAEA,OAAO,MAAMA,wBAAwB,GAAIC,oBAAD,IAA8D;EAClG,OAAO,CAACC,eAAD,EAAwEC,IAAxE,KAA6F;IAChG,OAAO,UAACC,OAAD,EAAoG;MAAA,IAArDC,aAAqD,uEAArB,EAAqB;MACvG,OAAO,IAAIC,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAoB;QACnC,MAAMC,EAAE,GAAGR,oBAAoB,CAACC,eAAD,CAA/B;QAEAA,eAAe,CAACQ,GAAhB,CAAoBD,EAApB,EAAwB;UAAED,MAAF;UAAUD;QAAV,CAAxB;QAEAJ,IAAI,CAACQ,WAAL,CAAiB;UAAEF,EAAF;UAAM,GAAGL;QAAT,CAAjB,EAAqCC,aAArC;MACH,CANM,CAAP;IAOH,CARD;EASH,CAVD;AAWH,CAZM","names":["createPostMessageFactory","generateUniqueNumber","ongoingRequests","port","message","transferables","Promise","resolve","reject","id","set","postMessage"],"sources":["D:\\programer\\xampp\\htdocs\\E-Learning\\reactjs\\node_modules\\recorder-audio-worklet\\src\\factories\\post-message-factory.ts"],"sourcesContent":["import type { generateUniqueNumber as generateUniqueNumberFunction } from 'fast-unique-numbers';\n\nexport const createPostMessageFactory = (generateUniqueNumber: typeof generateUniqueNumberFunction) => {\n    return (ongoingRequests: Map<number, { reject: Function; resolve: Function }>, port: MessagePort) => {\n        return (message: { method: string; params?: object }, transferables: Transferable[] = []): Promise<void> => {\n            return new Promise((resolve, reject) => {\n                const id = generateUniqueNumber(ongoingRequests);\n\n                ongoingRequests.set(id, { reject, resolve });\n\n                port.postMessage({ id, ...message }, transferables);\n            });\n        };\n    };\n};\n"]},"metadata":{},"sourceType":"module"}