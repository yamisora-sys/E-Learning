{"ast":null,"code":"export const createGeolocation = (emitNotSupportedError, window, wrapSubscribeFunction) => {\n  return options => wrapSubscribeFunction(observer => {\n    if (window === null || window.navigator === undefined || window.navigator.geolocation === undefined || window.navigator.geolocation.clearWatch === undefined || window.navigator.geolocation.watchPosition === undefined) {\n      return emitNotSupportedError(observer);\n    }\n\n    const watchId = window.navigator.geolocation.watchPosition(position => observer.next(position), err => observer.error(err), options);\n    return () => window.navigator.geolocation.clearWatch(watchId);\n  });\n};","map":{"version":3,"mappings":"AAEA,OAAO,MAAMA,iBAAiB,GAAG,CAC7BC,qBAD6B,EAE7BC,MAF6B,EAG7BC,qBAH6B,KAI7B;EACA,OAAQC,OAAD,IACHD,qBAAqB,CAAEE,QAAD,IAAa;IAC/B,IACIH,MAAM,KAAK,IAAX,IACAA,MAAM,CAACI,SAAP,KAAqBC,SADrB,IAEAL,MAAM,CAACI,SAAP,CAAiBE,WAAjB,KAAiCD,SAFjC,IAGAL,MAAM,CAACI,SAAP,CAAiBE,WAAjB,CAA6BC,UAA7B,KAA4CF,SAH5C,IAIAL,MAAM,CAACI,SAAP,CAAiBE,WAAjB,CAA6BE,aAA7B,KAA+CH,SALnD,EAME;MACE,OAAON,qBAAqB,CAACI,QAAD,CAA5B;IACH;;IAED,MAAMM,OAAO,GAAGT,MAAM,CAACI,SAAP,CAAiBE,WAAjB,CAA6BE,aAA7B,CACXE,QAAD,IAAcP,QAAQ,CAACQ,IAAT,CAAcD,QAAd,CADF,EAEXE,GAAD,IAAST,QAAQ,CAACU,KAAT,CAAeD,GAAf,CAFG,EAGZV,OAHY,CAAhB;IAMA,OAAO,MAAMF,MAAM,CAACI,SAAP,CAAiBE,WAAjB,CAA6BC,UAA7B,CAAwCE,OAAxC,CAAb;EACH,CAlBoB,CADzB;AAoBH,CAzBM","names":["createGeolocation","emitNotSupportedError","window","wrapSubscribeFunction","options","observer","navigator","undefined","geolocation","clearWatch","watchPosition","watchId","position","next","err","error"],"sources":["D:\\programer\\xampp\\htdocs\\E-Learning\\reactjs\\node_modules\\subscribable-things\\src\\factories\\geolocation.ts"],"sourcesContent":["import { TEmitNotSupportedErrorFunction, TSubscribableThing, TWindow, TWrapSubscribeFunctionFunction } from '../types';\n\nexport const createGeolocation = (\n    emitNotSupportedError: TEmitNotSupportedErrorFunction,\n    window: null | TWindow,\n    wrapSubscribeFunction: TWrapSubscribeFunctionFunction\n) => {\n    return (options?: PositionOptions): TSubscribableThing<GeolocationPosition> =>\n        wrapSubscribeFunction((observer) => {\n            if (\n                window === null ||\n                window.navigator === undefined ||\n                window.navigator.geolocation === undefined ||\n                window.navigator.geolocation.clearWatch === undefined ||\n                window.navigator.geolocation.watchPosition === undefined\n            ) {\n                return emitNotSupportedError(observer);\n            }\n\n            const watchId = window.navigator.geolocation.watchPosition(\n                (position) => observer.next(position),\n                (err) => observer.error(err),\n                options\n            );\n\n            return () => window.navigator.geolocation.clearWatch(watchId);\n        });\n};\n"]},"metadata":{},"sourceType":"module"}